package:

  name: ibex

dependencies:

  tech_cells_generic: { git:  "git@github.com:pulp-platform/tech_cells_generic.git", version: 0.2.2 }
  prim:               { path: "../../ip/prim"}
  
sources:

  - target: synthesis
  
    files:
    
      - rtl/ibex_register_file_latch.sv
      
  - target: xilinx
  
    files:
    
      - rtl/ibex_register_file_fpga.sv
      
  - target: not(rtl)
  
    include_dirs:
      - rtl
      - ../../ip/prim/rtl
      - ../../dv/sv/dv_utils/

    files:

      # Level 0
      - rtl/ibex_pkg.sv
      - ../../ip/prim/rtl/prim_assert.sv
      - ../../dv/sv/dv_utils/dv_fcov_macros.svh
      # Level 1
      - rtl/ibex_alu.sv
      - rtl/ibex_compressed_decoder.sv
      - rtl/ibex_controller.sv
      - rtl/ibex_counter.sv
      - rtl/ibex_csr.sv
      - rtl/ibex_decoder.sv
      - rtl/ibex_fetch_fifo.sv
      - rtl/ibex_load_store_unit.sv
      - rtl/ibex_multdiv_fast.sv
      - rtl/ibex_multdiv_slow.sv
      - rtl/ibex_pmp.sv
      - rtl/ibex_wb_stage.sv
      # Level 2
      - rtl/ibex_cs_registers.sv
      - rtl/ibex_ex_block.sv
      - rtl/ibex_id_stage.sv
      - rtl/ibex_prefetch_buffer.sv
      # Level 3
      - rtl/ibex_if_stage.sv
      # Level 4
      - rtl/ibex_core.sv
  - target: rtl
    include_dirs:
      - rtl
      - ../../ip/prim/rtl
      - ../../dv/sv/dv_utils/
    #defines:
     # RVFI: true
    files:
      # Level 0
      - rtl/ibex_pkg.sv
      - rtl/ibex_register_file_ff.sv
      - ../../ip/prim/rtl/prim_assert.sv
      - ../../ip/prim/rtl/prim_ram_1p.sv
      - ../../ip/prim/rtl/prim_clock_gating.sv
      # Level 1
      - rtl/ibex_alu.sv
      - rtl/ibex_compressed_decoder.sv
      - rtl/ibex_controller.sv
      - rtl/ibex_counter.sv
      - rtl/ibex_csr.sv
      - rtl/ibex_decoder.sv
      - rtl/ibex_fetch_fifo.sv
      - rtl/ibex_load_store_unit.sv
      - rtl/ibex_multdiv_fast.sv
      - rtl/ibex_multdiv_slow.sv
      - rtl/ibex_pmp.sv
      - rtl/ibex_tracer_pkg.sv
      - rtl/ibex_wb_stage.sv
      # Level 2
      - rtl/ibex_dummy_instr.sv
      - rtl/ibex_lockstep.sv
      - rtl/ibex_cs_registers.sv
      - rtl/ibex_ex_block.sv
      - rtl/ibex_id_stage.sv
      - rtl/ibex_prefetch_buffer.sv
      - rtl/ibex_tracer.sv
      # Level 3
      - rtl/ibex_if_stage.sv
      # Level 4
      - rtl/ibex_core.sv
      - rtl/ibex_top.sv
      